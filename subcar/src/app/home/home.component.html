


<div class="background">
  
<app-navbar></app-navbar>
<br><br>

 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.css" integrity="sha256-NAxhqDvtY0l4xn+YVa6WjAcmd94NNfttjNsDmNatFVc=" crossorigin="anonymous" />

<div class="container"> 
<div class="row">
  <div class="col-xl-3">

      <div class="containere">
        <div class="avatar-flip">
          <img src="{{imagePath}}{{userImage}}" height="150" width="150">
          
        </div>
        <mat-icon   style="cursor: pointer; position: absolute; top: 10px; right: 10px;" mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">more_vert</mat-icon>
        <mat-menu #menu="matMenu">
            <button (click)="openEdit()" mat-menu-item  >
                <mat-icon>edit</mat-icon>
              <span>Edit profile</span>
            </button>
      
       
          </mat-menu>
          <div class="avatar-info">
        <h3>@{{username}}</h3>
        <p class="text-muted mb-2 font-13"><strong> Name :</strong> <span class="ms-2"></span>{{name}}</p>
                            
                  <p class="text-muted mb-2 font-13"><strong>Email :</strong> {{email}} <span class="ms-2"></span></p>
              
                  <p class="text-muted mb-1 font-13"><strong>Following :</strong> {{userFollowing}} <span class="ms-2"></span></p>
                </div>
                </div>
 

      <div class="card">
          <div class="card-body">
              <h4 class="header-title mb-3">Hosts Locations <span class="mdi mdi-map-marker-multiple"></span></h4>

              <app-user-map></app-user-map>
              
          </div>
      </div> <!-- end card-->
      <div class="card" >
          <div class="card-body">
          

              <h4 class="header-title mb-3">Closest to you <span class="mdi mdi-map-marker-distance"></span></h4>

              <div class="list-group" style="overflow: scroll; width: 100%; height: 300px;" >
                  <a  class="list-group-item list-group-item-action"*ngFor="let host of recommendedForMe  | slice:0:5;" style="cursor: pointer;">
                      <div class="d-flex align-items-center pb-1" id="tooltips-container">
                          <img src="{{imagePath}}{{host.businessImg}}" class="rounded-circle img-fluid avatar-md img-thumbnail bg-transparent" alt="">
                          <div class="w-100 ms-2">
                              <h5 (click)="open()" (click)="sendhostdetails(host._id)" class="mb-1">{{host.businessName}}<i class="mdi mdi-check-decagram text-info ms-1"></i></h5>
                            <p class="mb-0 font-13 text-muted"><strong>business Name</strong> {{host.name}}</p>
                          </div>
                          <button *ngIf="!checkIfFollowing(host.follower)" class="btn btn-icon">
                            <svg (click)="followHost(host._id)"  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-plus" data-toggle="tooltip" title="" data-original-title="Connect">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="8.5" cy="7" r="4"></circle>
                                <line x1="20" y1="8" x2="20" y2="14"></line>
                                <line x1="23" y1="11" x2="17" y2="11"></line>
                            </svg>
                        </button>
                        <button *ngIf="checkIfFollowing(host.follower)" class="btn btn-icon">
                            <svg (click)="unfollowHost(host._id)" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-plus" data-toggle="tooltip" title="" data-original-title="Connect">
                              <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                              <circle cx="8.5" cy="7" r="4"></circle>
                              <line x1="23" y1="11" x2="17" y2="11"></line>
                          </svg>
                        </button>
                      </div>
                  </a>
                  
              </div>
          </div>
      </div>
      <div class="card" >
        <div class="card-body">
        

            <h4 class="header-title mb-3">Discover More <span class="mdi mdi-account-search"></span></h4>

            <div class="list-group" style="overflow: scroll; width: 100%; height: 300px;" >
                <a  class="list-group-item list-group-item-action"*ngFor="let host of hosts" style="cursor: pointer;">
                    <div class="d-flex align-items-center pb-1" id="tooltips-container">
                        <img src="{{imagePath}}{{host.businessImg}}" class="rounded-circle img-fluid avatar-md img-thumbnail bg-transparent" alt="">
                        <div class="w-100 ms-2">
                            <h5 (click)="open()" (click)="sendhostdetails(host._id)" class="mb-1">{{host.businessName}}<i class="mdi mdi-check-decagram text-info ms-1"></i></h5>
                            <p class="mb-0 font-13 text-muted"><strong>mobile</strong> {{host.phone}}</p>
                        </div>
                        <button class="btn btn-icon">
                          <svg (click)="followHost(host._id)"  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-plus" data-toggle="tooltip" title="" data-original-title="Connect">
                              <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                              <circle cx="8.5" cy="7" r="4"></circle>
                              <line x1="20" y1="8" x2="20" y2="14"></line>
                              <line x1="23" y1="11" x2="17" y2="11"></line>
                          </svg>
                      </button>
                    </div>
                </a>
                
            </div>
        </div>
    </div>
      <div class="card" >
        <div class="card-body">
        

            <h4 class="header-title mb-3">Already Following <i class="mdi mdi-account-multiple ms-1"></i></h4>

            <div class="list-group" style="overflow: scroll; width: 100%; height: 300px;" >
                <a  class="list-group-item list-group-item-action" *ngFor="let follow of following" style="cursor: pointer;">
                    <div class="d-flex align-items-center pb-1" id="tooltips-container">
                        <img src="{{imagePath}}{{follow.businessImg}}" class="rounded-circle img-fluid avatar-md img-thumbnail bg-transparent" alt="">
                        <div class="w-100 ms-2">
                            <h5 (click)="open()" (click)="sendhostdetails(follow._id)" class="mb-1">{{follow.businessName}}<i class="mdi mdi-check-decagram text-info ms-1"></i></h5>
                            <p class="mb-0 font-13 text-muted"><strong>mobile</strong> {{follow.phone}}</p>
                        </div>
                        <button class="btn btn-icon">
                        <svg (click)="unfollowHost(follow._id)" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-plus" data-toggle="tooltip" title="" data-original-title="Connect">
                          <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                          <circle cx="8.5" cy="7" r="4"></circle>
                          <line x1="23" y1="11" x2="17" y2="11"></line>
                      </svg>
                    </button>

                    </div>
                </a>
                
            </div>
        </div>
    </div>

  </div> <!-- end col-->

  <div class="col-xl-6">
      
    <div style="margin-bottom: 8px;" class="input-group">
        <div class="input-group-prepend">
            <span style="height: 100%; margin-right: 7px;" class="input-group-text"><i class="fa fa-search"></i></span>
        </div>
        <input name="search" [(ngModel)]="searchFilter" type="text" class="form-control" placeholder="Search...">
    </div>
      <div class="card" *ngFor="let post of post | searchFilter: searchFilter">
        
          <div class="card-body">
              <!-- Story Box-->
              <div class="border border-light p-2 mb-3"  >
                  <div class="d-flex align-items-start" style="cursor: pointer; ">
                      <img (click)="open()" (click)="sendhostdetails(post.userId)" class="me-2 avatar-sm rounded-circle" src="{{imagePath}}{{post.businessImg}}" >
                      <div class="w-100">
                          <Strong (click)="open()" (click)="sendhostdetails(post.userId)">{{post.hostName}}</Strong> posted
                          <p class="text-muted"><small>{{post.createdAt | date:'mediumDate'}}</small></p>
                      </div>
                  </div>
                  <a><Strong>Car Model : </Strong>{{post.cartype}}</a>
                  <br>
                  <a><Strong>Car KMS : </Strong>{{post.kms}}Km</a>
                  <br>
                  <a><Strong>No. Of Owners : </Strong>{{post.ownersnumber}}</a>
                  <br>
                  <a><Strong>Car Color : </Strong>{{post.carcolor}}</a>
                  <br>
                  <a><Strong>Car Year : </Strong>{{post.caryear}}</a>
                  <br>
                  <a><Strong>Price : </Strong>{{post.price}}</a>
                  <br>
                  <a><Strong>More Info : </Strong><br>{{post.desc}}</a>
                  <br><br>
                  <div  class="img-container">
                  <img  src="{{imagePath}}{{post.img}}" alt="post-img" class="rounded me-1" height="300">
                  <!-- <ng-image-slider [images]="imgCollection" #nav></ng-image-slider> -->
                </div>
                  <div class="mt-2">
                      <a (click)="likepost(post._id)" class="btn btn-sm btn-link text-muted"><i *ngIf="!checkifLiked(post.likes)" class="mdi mdi-heart-outline"></i><i *ngIf="checkifLiked(post.likes)"  style="color: red;" class="mdi mdi-heart"></i> {{post.likes.length}}</a> 
                      <a  (click)="sendreplay(post.userId,post.code)" (click)="sendSubmit()" href="javascript: void(0);" class="btn btn-sm btn-link text-muted"><i class="mdi mdi-reply"></i> Reply</a>

                  </div>
               
              </div>

      

          
          </div>
      </div> <!-- end card-->

  </div> <!-- end col -->

  <div class="col-lg-3">

     
            <div class="card">
            <div class="widget">
                <div class="sd-title">
                    <h3>Most Liked This Week</h3>
                </div>
                <div class="job-list" *ngFor="let post of mostliked">
                    <div class="job-info">
                        <div class="job-details">
                            <h3>{{post.hostName}}</h3>
                            <p>{{post.cartype}} - {{post.caryear}} - {{post.ownersnumber}} ..</p>
                        </div>
                        <div  (click)="openView()" (click)="sendpostid(post)" class="ht-rate">
                            <span>view</span>
                        </div>
                    </div>
                </div>
            </div>
              
        
   
    </div>

</div> <!-- end col -->
</div>
<!-- end row-->

</div>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<a style="cursor: pointer;" (click)="openMessages()" class="float" target="_blank">
<i class="fa fa-whatsapp my-float"></i>
</a>


<app-footer (newItemEvent)="addItem($event)"></app-footer>
</div>